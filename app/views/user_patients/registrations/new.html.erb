<div class="container mb-5">
  <h1 class="my-5">Registrate para obtener tu vacuna</h1>

  <h2 class="my-5">Datos personales</h2>

  <%= form_with model: @user_patient, url: user_patient_registration_path do |form| %>
    <!-- 2 column grid layout with text inputs for the first and last names -->
    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
            <%= form.label 'Nombre', class: 'form-label' %>
            <%= form.text_field :name, class:'form-control'%>
        </div>

      </div>
      <div class="col">
        <div class="form-outline">
          <%= form.label 'Apellido', class: 'form-label' %>
          <%= form.text_field :last_name, class:'form-control'%>
        </div>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
            <%= form.label 'DNI', class: 'form-label' %>
            <%= form.text_field :dni, class:'form-control'%>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <%= form.label 'Email', class: 'form-label' %>
          <%= form.text_field :email, class:'form-control'%>
        </div>
      </div>
    </div>

    <!-- Text input -->
    <div class="row mb-4">
      <div class="col">
        <div class="form-outline mb-4">
          <%= form.label 'zona', class: 'form-label' %>
          <%= form.select(:zone, [['Municipalidad','municipalidad'],['Terminal','terminal'],['Cementerio','cementerio']], {}, { class:'form-select'}) %>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <%= form.label '¿Paciente de riesgo?', class: 'form-label' %>
          <%= form.select :risk_patient, [['Si',true], ['No',false]], {}, { class:'form-select'} %>
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
          <%= form.label 'Fecha de nacimiento', class: 'form-label' %>
          <br>
          <%= form.date_field :birth_date, data_provide: 'datepicker', class: 'datepicker' %>
        </div>
      </div>
    </div>

    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
            <%= form.label "Contraseña", class: 'form-label' %>
            <%= form.password_field :password, class:'form-control'%>
        </div>

      </div>
      <div class="col">
        <div class="form-outline">
          <%= form.label 'Confirmación de contraseña', class: 'form-label' %>
          <%= form.password_field :password_confirmation, class:'form-control'%>
        </div>
      </div>
    </div>
    <h2 class="my-4 row">Datos de vacunas</h2>
    <div class="row">
      <div class="col">
        <h3>Vacuna COVID</h3>
        <%= form.fields_for :appointments do |appointment|%>
          <%= appointment.hidden_field :vaccine, value: 'covid' %>
          <div class="row mb-4">
            <div class="col">
              <div class="form-outline">
                  <%= appointment.label 'Dosis dadas', class: 'form-label' %>
                  <%= appointment.select(:dose, options_for_select([0,1,2]), {}, { class:'form-select'}) %>
              </div>
            </div>
          </div>
        <%end%>
      </div>
      <div class="col">
        <h3>Vacuna Gripe</h3>
        <%= form.fields_for :appointments do |appointment|%>
          <%= appointment.hidden_field :vaccine, value: 'gripe' %>
          <div class="row mb-4">
            <div class="col">
              <div class="form-outline">
                  <%= appointment.label 'Fecha de ultima dosis dada', class: 'form-label' %>
                  <br>
                  <%= appointment.date_field :last_dose_date, data_provide: 'datepicker', class: 'datepicker' %>
              </div>
            </div>
          </div>
        <%end%>
      </div>
    </div>
    <%=form.submit 'Registrarme', class:'btn btn-primary btn-block mb-4' %>
  <% end %>
</div>
